<!DOCTYPE HTML>

<html> 

	<head>
		<title>
                
        Mini Game Portal
                
        </title>        
                
		<script src="js/menu/scene_menu.js"></script>
		<script src="js/menu/scene_credit.js"></script>
		<script src="js/menu/button.js"></script>
		<script src="js/menu/name.js"></script>
		<script src="js/menu/fundo_move_menu.js"></script>
		<script src="js/menu/fundo_creditos.js"></script>
		
		
		<!--Game 1-->
		<script src="js/game1/game1.js"></script>
		<script src="js/game1/js/game_1_scene_intro.js"></script>
		<script src="js/game1/js/game_1_fundo.js"></script>
		<script src="js/game1/js/game_1_scene_level_1.js"></script>
		<!--<script src="js/game1/js/game_1_player.js"></script>-->
		<script src="js/game1/js/game_1_obstaculo.js"></script>
		<script src="js/game1/js/game_1_scene_game_over.js"></script>
		<script src="js/game1/js/game_1_scene_the_end.js"></script>
		<script src="js/game1/js/game_1_fundo_move.js"></script>
	
		<!--Game 2-->
		<script src="js/game2/game2.js"></script>
		<script src="js/game2/js/game_2_scene_intro.js"></script>
		<script src="js/game2/js/game_2_scene_level_1.js"></script>
		<script src="js/game2/js/game_2_scene_game_over.js"></script>
		<script src="js/game2/js/game_2_scene_game_win.js"></script>
		<script src="js/game2/js/game_2_fundo.js"></script>
		<script src="js/game2/js/game_2_button.js"></script>
		<script src="js/game2/js/game_2_player.js"></script>
		<script src="js/game2/js/game_2_obstaculo.js"></script>	

		
		<!--Game 3-->
		<script src="js/game3/game3.js"></script>
		<script src="js/game3/js/game_3_scene_intro.js"></script>
		<script src="js/game3/js/game_3_scene_level_1.js"></script>
		<script src="js/game3/js/game_3_scene_game_over.js"></script>
		<script src="js/game3/js/game_3_scene_the_end.js"></script>
		<script src="js/game3/js/game_3_fundo.js"></script>
		<script src="js/game3/js/game_3_player.js"></script>
		<script src="js/game3/js/game_3_obstaculo.js"></script>
		<script src="js/game3/js/game_3_fundo_move.js"></script>
		<script src="js/game3/js/gato.js"></script> 
		<script src="js/game3/js/gato_pontos.js"></script> 
		
		<!--Game 4-->
		<script src="js/game4/game4.js"></script>
		<script src="js/game4/js/game_4_scene_intro.js"></script>
		<script src="js/game4/js/game_4_fundo.js"></script>
		<script src="js/game4/js/game_4_scene_level_1.js"></script>
		<script src="js/game4/js/game_4_player.js"></script>
		<script src="js/game4/js/game_4_scene_game_over.js"></script>
		<script src="js/game4/js/game_4_scene_the_end.js"></script>
		<script src="js/game4/js/game_4_shoot.js"></script>
		<script src="js/game4/js/game_4_asteroide.js"></script>
		
		<!--Game 5-->
		<script src="js/game5/game5.js"></script>
		<script src="js/game5/js/game_5_scene_intro.js"></script>
		<script src="js/game5/js/game_5_fundo.js"></script>
		<script src="js/game5/js/game_5_scene_level_1.js"></script>
		<script src="js/game5/js/game_5_player.js"></script>
		<script src="js/game5/js/game_5_scene_game_over.js"></script>
		<script src="js/game5/js/game_5_scene_the_end.js"></script>
		
		
   </head>
        
   <body>
   <canvas width="800" height="600" id="main" style="border:1px solid #000000;"></canvas>
      <audio controls="controls">
    <source src="sounds/Rymdkraft - Sprinkler.mp3" type="audio/mp3" />
	</audio>
   </body>
        
   	<script> 
        
   	var canvas = document.getElementById("main");
   	var screen = canvas.getContext("2d");
   	
   	var SCREENWIDTH = 800;
   	var SCREENHEIGHT = 600;
        
    var paused = false;
    
    var menu = new SceneMenu();
	
	var credit = new SceneCredit();
	
	var game1 = new SceneGame1(); //Variavel para utilizar o primeiro jogo.
	
	var game2 = new SceneGame2(); //Variavel utilizar o do segundo jogo.
	
	var game3 = new SceneGame3(); //Variavel utilizar o do terceiro jogo.
	
	var game4 = new SceneGame4(); //Variavel utilizar o do quarto jogo.
	
	var game5 = new SceneGame5(); //Variavel utilizar o do quinto jogo.
	
		
	var SCENE = { MENU: 0, GAME1: 1, GAME2: 2, GAME3: 3, GAME4: 4, GAME5: 5, CREDIT: 6}
	
	var currentScene = SCENE.MENU;
	
	load();

	function load()
	{	
		console.log("load");

		if((true))//to do...
		{
			console.log("carreguei");

			loop();
		}
		else
		{
			console.log("nao carreguei");

			setTimeout(load, 30 );
		}
	}

	
	function loop()
	{
		update();

		draw();

		setTimeout(loop, 30 );
	}


	function update()
	{	
		if(paused)
		{
			return;
		}
			
		switch(currentScene)
		{	
			case SCENE.MENU:
			{
				
				menu.update(); //chamando update do menu.
			}
			break;
			case SCENE.CREDIT:
			{
				
				credit.update(); //chamando update dos creditos.
			}
			break;
			case SCENE.GAME1:
			{
				game1.update(); //chamando update do primeiro jogo.
			}
			break;
			case SCENE.GAME2:
			{
				game2.update(); //chamando update do segundo jogo.
			}
			break;
			case SCENE.GAME3:
			{
				game3.update(); //chamando update do terceiro jogo.
			}
			break;
			case SCENE.GAME4:
			{
				game4.update(); //chamando update do quarto jogo.
			}
			break;
			case SCENE.GAME5:
			{
				game5.update(); //chamando update do quinto jogo.
			}
			break;
						
		}
		
	}


	function draw()
	{
		clear();
		
		if(paused)
		{
			screen.font = "20px Comic Sans MS";
			screen.fillStyle="#000000";
			screen.fillText("PAUSED", (SCREENWIDTH/2), (SCREENHEIGHT/2));
		}

		switch(currentScene)
		{	
			case SCENE.MENU:
			{
				menu.draw(); //chamando desenho o menu.
			}
			break;
			case SCENE.CREDIT:
			{
				credit.draw(); //chamando desenho o credito.
			}
			break;
			case SCENE.GAME1:
			{
				game1.draw(); //chamando desenho o primeiro jogo.
			}
			break;
			case SCENE.GAME2:
			{
				game2.draw(); //chamando desenho do segundo jogo.
			}
			break;
			case SCENE.GAME3:
			{
				game3.draw(); //chamando desenho do terceiro jogo.
			}
			break;
			case SCENE.GAME4:
			{
				game4.draw(); //chamando desenho do quarto jogo.
			}
			break;
			case SCENE.GAME5:
			{
				game5.draw(); //chamando desenho do quinto jogo.
			}
			break;

		}

	}

	function clear()
	{
		screen.clearRect(0,0,SCREENWIDTH,SCREENHEIGHT);
	}

	window.addEventListener('keydown', key_down, true);
	window.addEventListener('keyup', key_up, true);
	window.addEventListener('mousemove', mouse_move, true);
	window.addEventListener('mouseup', mouse_up, true);
	window.addEventListener('mousedown', mouse_down, true);

	function key_down(key)
	{
		switch(currentScene)
		{
			case SCENE.MENU:
			{
				menu.key_down(key);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.key_down(key);
			}
			break;
			case SCENE.GAME1:
			{
				game1.key_down(key);
			}
			break;
			case SCENE.GAME2:
			{
				game2.key_down(key);
			}
			break;
			case SCENE.GAME3:
			{
				game3.key_down(key);
			}
			break;
			case SCENE.GAME4:
			{
				game4.key_down(key);
			}
			break;
			case SCENE.GAME5:
			{
				game5.key_down(key);
			}
			break;

		}
	}

	function key_up(key)
	{
		switch(currentScene)
		{			
			case SCENE.MENU:
			{
				menu.key_up(key);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.key_up(key);
			}
			break;
			case SCENE.GAME1:
			{
				game1.key_up(key);
			}
			break;
			case SCENE.GAME2:
			{
				game2.key_up(key);
			}
			break;
			case SCENE.GAME3:
			{
				game3.key_up(key);
			}
			break;
			case SCENE.GAME4:
			{
				game4.key_up(key);
			}
			break;
			case SCENE.GAME5:
			{
				game5.key_up(key);
			}
			break;
	
		}
	}
	function mouse_move(mouse)
	{
		switch(currentScene)
		{
			case SCENE.MENU:
			{
				menu.mouse_move(mouse);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.mouse_move(mouse);
			}
			break;
			case SCENE.GAME1:
			{
				game1.mouse_move(mouse);
			}
			break;
			case SCENE.GAME2:
			{
				game2.mouse_move(mouse);
			}
			break;
			case SCENE.GAME3:
			{
				game3.mouse_move(mouse);
			}
			break;
			case SCENE.GAME4:
			{
				game4.mouse_move(mouse);
			}
			break;
			case SCENE.GAME5:
			{
				game5.mouse_move(mouse);
			}
			break;

		}
	}

	function mouse_up(mouse)
	{
		switch(currentScene)
		{
			case SCENE.MENU:
			{
				menu.mouse_up(mouse);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.mouse_up(mouse);
			}
			break;
			case SCENE.GAME1:
			{
				game1.mouse_up(mouse);
			}
			break;
			case SCENE.GAME2:
			{
				game2.mouse_up(mouse);
			}
			break;
			case SCENE.GAME3:
			{
				game3.mouse_up(mouse);
			}
			break;
			case SCENE.GAME4:
			{
				game4.mouse_up(mouse);
			}
			break;
			case SCENE.GAME5:
			{
				game5.mouse_up(mouse);
			}
			break;

		}
	}


	function mouse_down(mouse)
	{
		switch(currentScene)
		{
			case SCENE.MENU:
			{
				menu.mouse_down(mouse);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.mouse_down(mouse);
			}
			break;
			case SCENE.GAME1:
			{
				game1.mouse_down(mouse);
			}
			break;
			case SCENE.GAME2:
			{
				game2.mouse_down(mouse);
			}
			break;
			case SCENE.GAME3:
			{
				game3.mouse_down(mouse);
			}
			break;
			case SCENE.GAME4:
			{
				game4.mouse_down(mouse);
			}
			break;
			case SCENE.GAME5:
			{
				game5.mouse_down(mouse);
			}
			break;

		}
	}


	function Collide(x1, y1, w1, h1, x2, y2, w2, h2)
	{	
		if((x1+w1<x2)//se rect1 esquerda rect2
		||(x1>x2+w2)//se rect1 direita rect2
		||(y1+h1<y2)//se rect1 acima rect2
		||(y1>y2+h2))//se rect1 abaixo rect2
		{
			return false;
		}
		else
		{
			return true;
		}
	}


</script>

</body>

</html>